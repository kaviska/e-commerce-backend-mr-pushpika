import{r as n,j as e,L as t,t as o}from"./app-qpV6NWqw.js";import{i as j,N as i,F as c}from"./Footer-_GOLdPPi.js";import{D as d,b as x,a as b,e as N,F as v}from"./index-DCrF5SiW.js";import"./logo-D38OwFmG.js";import"./auth-CMvdZPx9.js";const L=()=>{const{wishlist:r,removeFromWishlist:h,clearWishlist:m}=j(),[g,u]=n.useState(!0);n.useEffect(()=>{u(!1)},[]);const l=(s,a)=>{h(s),o.success(`${a} removed from wishlist`)},p=()=>{window.confirm("Are you sure you want to clear your wishlist?")&&(m(),o.success("Wishlist cleared"))},f=s=>s.startsWith("http")||s.startsWith("/")?s:`/${s}`;return g?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(i,{}),e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}),e.jsx(c,{})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans",children:[e.jsx(i,{}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("nav",{className:"flex text-sm text-gray-500 mb-6",children:[e.jsx(t,{href:"/",className:"hover:text-green-600",children:"Home"}),e.jsx("span",{className:"mx-2",children:"/"}),e.jsx("span",{className:"text-gray-900 font-medium",children:"Wishlist"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[e.jsx(d,{className:"mr-3 text-red-500"}),"My Wishlist"]}),e.jsxs("p",{className:"text-gray-600 mt-2",children:[r.length," ",r.length===1?"item":"items"," saved"]})]}),r.length>0&&e.jsxs("button",{onClick:p,className:"text-red-600 hover:text-red-700 text-sm font-medium flex items-center",children:[e.jsx(x,{className:"w-4 h-4 mr-1"}),"Clear Wishlist"]})]}),r.length===0?e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-12 text-center",children:[e.jsx(d,{className:"w-20 h-20 mx-auto text-gray-300 mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Your Wishlist is Empty"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Save your favorite products to buy them later!"}),e.jsxs(t,{href:"/products",className:"inline-flex items-center px-6 py-3 bg-green-600 text-white rounded-full hover:bg-green-700 transition-colors font-semibold",children:[e.jsx(b,{className:"w-5 h-5 mr-2"}),"Browse Products"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(s=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-lg transition-all duration-300 group",children:[e.jsxs("div",{className:"relative aspect-square overflow-hidden bg-gray-100",children:[e.jsx(t,{href:`/product/${s.slug}`,children:e.jsx("img",{src:f(s.primary_image),alt:s.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",onError:a=>{a.target.src="https://via.placeholder.com/400"}})}),e.jsx("button",{onClick:()=>l(s.id,s.name),className:"absolute top-3 right-3 p-2 bg-white rounded-full shadow-lg hover:bg-red-50 transition-colors group/remove",children:e.jsx(N,{className:"w-5 h-5 text-gray-600 group-hover/remove:text-red-600"})}),s.discount&&s.discount>0&&e.jsxs("div",{className:"absolute top-3 left-3 bg-red-500 text-white px-3 py-1 rounded-full text-sm font-bold",children:[s.discount,"% OFF"]})]}),e.jsxs("div",{className:"p-4",children:[e.jsx(t,{href:`/product/${s.slug}`,children:e.jsx("h3",{className:"font-bold text-gray-900 text-lg mb-2 line-clamp-2 hover:text-green-600 transition-colors",children:s.name})}),s.category_name&&e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:s.category_name}),s.brand_name&&e.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:["Brand: ",s.brand_name]}),s.price&&e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"flex items-center gap-2",children:s.discount&&s.discount>0?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["LKR ",(s.price*(1-s.discount/100)).toFixed(2)]}),e.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["LKR ",s.price.toFixed(2)]})]}):e.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["LKR ",s.price.toFixed(2)]})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{href:`/product/${s.slug}`,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 bg-green-600 text-white rounded-full hover:bg-green-700 transition-colors font-semibold text-sm",children:[e.jsx(v,{className:"w-4 h-4"}),"View Product"]}),e.jsxs("button",{onClick:()=>l(s.id,s.name),className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200 transition-colors font-semibold text-sm",children:[e.jsx(x,{className:"w-4 h-4"}),"Remove"]})]})]})]},s.id))})]}),e.jsx(c,{})]})};export{L as default};
