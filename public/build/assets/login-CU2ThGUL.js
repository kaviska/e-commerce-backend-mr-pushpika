import{r as n,G as F,j as e,t as y}from"./app-B1e7NyTU.js";import{i as S,m as M,t as E,u as L,g as P,v as A,w as I}from"./index-Cr-Nnvgb.js";import{F as U}from"./index-u29QYQpv.js";import{l as $}from"./auth-CaAddT7o.js";const q=()=>{const[a,j]=n.useState({email:"",password:"",rememberMe:!1}),[c,v]=n.useState(!1),[r,d]=n.useState({}),[f,b]=n.useState(!1),[m,N]=n.useState({num1:0,num2:0,answer:0}),[h,p]=n.useState("");F.useEffect(()=>{x()},[]);const x=()=>{const s=Math.floor(Math.random()*10)+1,t=Math.floor(Math.random()*10)+1,l=s+t;N({num1:s,num2:t,answer:l}),p("")},u=s=>{const{name:t,value:l,type:w,checked:i}=s.target;j(o=>({...o,[t]:w==="checkbox"?i:l})),r[t]&&d(o=>({...o,[t]:""}))},C=()=>{const s={};return a.email?/\S+@\S+\.\S+/.test(a.email)||(s.email="Please enter a valid email"):s.email="Email is required",a.password?a.password.length<6&&(s.password="Password must be at least 6 characters"):s.password="Password is required",h?parseInt(h)!==m.answer&&(s.mathCaptcha="Incorrect answer, please try again",x()):s.mathCaptcha="Please solve the math problem",d(s),Object.keys(s).length===0},k=async s=>{if(s.preventDefault(),!C())return;b(!0);const t=navigator.userAgent;try{const l=await $(a.email,a.password,t);if(console.log("Login response:",l),l.success){y.success("Login successful",{duration:5e3,description:"You will be redirected..."});const i=new URLSearchParams(window.location.search).get("redirect_with");if(i)window.location.href=`/${i}`;else{const o=localStorage.getItem("redirectUrl");o?(localStorage.removeItem("redirectUrl"),window.location.href=o):window.location.href="/seller/dashboard"}}else y.error(l.error,{duration:5e3,description:"Please check your credentials"})}catch(l){console.error("Login failed:",l)}finally{b(!1)}},g=s=>{console.log(`Login with ${s}`)};return e.jsxs("div",{className:"min-h-screen flex",children:[e.jsx("div",{className:"flex-1 flex items-center justify-center px-4 sm:px-6 lg:px-8 bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:" ",children:e.jsx("img",{src:"./logo.png",alt:"Atsmore Logo",className:"h-32 w-auto"})})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome to Atsmore"})]}),e.jsxs("form",{onSubmit:k,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(S,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:a.email,onChange:u,className:`block w-full pl-10 pr-3 py-3 border rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors ${r.email?"border-red-300":"border-gray-300"}`,placeholder:"Enter your email"})]}),r.email&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(M,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"password",name:"password",type:c?"text":"password",autoComplete:"current-password",value:a.password,onChange:u,className:`block w-full pl-10 pr-10 py-3 border rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors ${r.password?"border-red-300":"border-gray-300"}`,placeholder:"Enter your password"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>v(!c),children:c?e.jsx(E,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):e.jsx(L,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),r.password&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.password})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"mathCaptcha",className:"block text-sm font-medium text-gray-700 mb-2",children:"Verify you're human"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"flex items-center gap-3 bg-gray-100 p-4 rounded-xl border border-gray-300",children:e.jsxs("span",{className:"text-2xl font-bold text-gray-800",children:[m.num1," + ",m.num2," = ?"]})})}),e.jsx("div",{className:"w-32",children:e.jsx("input",{id:"mathCaptcha",name:"mathCaptcha",type:"number",value:h,onChange:s=>{p(s.target.value),r.mathCaptcha&&d(t=>({...t,mathCaptcha:""}))},className:`block w-full px-3 py-3 border rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors ${r.mathCaptcha?"border-red-300":"border-gray-300"}`,placeholder:"Answer"})}),e.jsx("button",{type:"button",onClick:x,className:"px-4 py-3 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-xl transition-colors",title:"Generate new problem",children:"ðŸ”„"})]}),r.mathCaptcha&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.mathCaptcha})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"rememberMe",name:"rememberMe",type:"checkbox",checked:a.rememberMe,onChange:u,className:"h-4 w-4 text-green-600 focus:ring-yellow-400 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"rememberMe",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),e.jsx("a",{href:"#",className:"text-sm text-green-600 hover:text-yellow-400 font-medium transition-colors",children:"Forgot password?"})]}),e.jsx("button",{type:"submit",disabled:f,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-xl shadow-sm text-white bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 font-semibold transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:f?e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:["Sign In",e.jsx(P,{className:"ml-2 h-4 w-4"})]})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-gray-50 text-gray-500",children:"Or continue with"})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx("button",{type:"button",onClick:()=>g("Google"),className:"w-full inline-flex justify-center items-center py-3 px-4 border border-gray-300 rounded-xl shadow-sm bg-white text-gray-500 hover:bg-gray-50 hover:border-yellow-400 transition-all",children:e.jsx(U,{className:"h-5 w-5"})}),e.jsx("button",{type:"button",onClick:()=>g("Facebook"),className:"w-full inline-flex justify-center items-center py-3 px-4 border border-gray-300 rounded-xl shadow-sm bg-white text-gray-500 hover:bg-gray-50 hover:border-yellow-400 transition-all",children:e.jsx(A,{className:"h-5 w-5"})}),e.jsx("button",{type:"button",onClick:()=>g("Twitter"),className:"w-full inline-flex justify-center items-center py-3 px-4 border border-gray-300 rounded-xl shadow-sm bg-white text-gray-500 hover:bg-gray-50 hover:border-yellow-400 transition-all",children:e.jsx(I,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",e.jsx("a",{href:"/register",className:"font-medium text-green-600 hover:text-yellow-400 transition-colors",children:"Sign up here"})]})})]})]})}),e.jsx("div",{className:"hidden lg:flex lg:flex-1 relative",children:e.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500 via-green-600 to-green-700",children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-20 right-20 w-64 h-64 bg-white rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-20 left-20 w-96 h-96 bg-white rounded-full blur-3xl"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-white rounded-full blur-3xl"})]}),e.jsx("div",{className:"relative z-10 flex flex-col justify-center items-center h-full p-12 text-white",children:e.jsx("div",{className:"text-center max-w-md"})})]})})]})};export{q as default};
